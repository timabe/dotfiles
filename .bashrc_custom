# bunch of git stuff
function parse_git_branch () {
       git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/ (\1)/'
}


RED="\[\033[0;31m\]"
YELLOW="\[\033[0;33m\]"
ORANGE="\[\033[38;5;9m\]"
GREEN="\[\033[38;5;2m\]"
CYAN="\[\033[0;36m\]"
WHITE="\[\033[0;37m\]"
NO_COLOUR="\[\033[0m\]"
unamestr=`uname`

# Make prompt informative and based on machine and cluster
if [[ "$unamestr" != 'Linux' ]]; then
	PS1="$CYAN\u$NO_COLOUR:\w$RED\$(parse_git_branch)$NO_COLOUR\$ "
else
	if [[ $LC_CLUSTER == 'gold' ]]; then
		PS1="$ORANGE\u$YELLOW{$LC_CLUSTER}:\w$GREEN\$(parse_git_branch)$NO_COLOUR\$ "
	else
		PS1="$ORANGE\u$WHITE{$LC_CLUSTER}:\w$GREEN\$(parse_git_branch)$NO_COLOUR\$ "
	fi
fi

exists() { type -t "$1" > /dev/null 2>&1; }

function silver () { # takes an argument (default is 1) for which machine to go into
	export LC_CLUSTER=silver; # helpful to keep track of which cluster you're doing work on
	ssh -o SendEnv=LC_CLUSTER gw${1-1}.silver.musta.ch
}

function gold () { # takes an argument (default is 1) for which machine to go into
	export LC_CLUSTER=gold; # helpful to keep track of which cluster you're doing work on
	ssh -o SendEnv=LC_CLUSTER gw${1-1}.gold.musta.ch
}

export PATH=$HOME/Library/Python/2.7/bin:$PATH

# command for vertical output on presto queries 
# pv is inline queries
alias pv="presto --output-format VERTICAL --execute"
